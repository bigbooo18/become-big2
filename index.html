<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>å¤šç›Šç²¾è‹±è¨“ç·´ç‡Ÿ</title>
<style>
:root {
--primary: #2A4365;
--secondary: #4299E1;
--success: #48BB78;
--danger: #F56565;
--light: #F7FAFC;
--dark: #2D3748;
}

* {
box-sizing: border-box;
margin: 0;
padding: 0;
}

body {
font-family: 'Inter', system-ui;
line-height: 1.6;
background: var(--light);
min-height: 100vh;
padding: 2rem;
}

.container {
max-width: 800px;
margin: 0 auto;
background: white;
border-radius: 1.5rem;
box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
overflow: hidden;
}

.header {
background: var(--primary);
padding: 2rem;
color: white;
text-align: center;
}

.header h1 {
font-size: 2.2rem;
margin-bottom: 0.5rem;
}

.quiz-area {
padding: 2rem;
}

.question-card {
background: var(--light);
border-radius: 0.75rem;
padding: 1.5rem;
margin-bottom: 1.5rem;
border: 2px solid transparent;
transition: all 0.3s ease;
}

.question-card:hover {
transform: translateY(-2px);
box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

.question-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 1rem;
}

.difficulty {
font-size: 0.9rem;
padding: 0.25rem 0.75rem;
border-radius: 1rem;
background: var(--secondary);
color: white;
}

.options-grid {
display: grid;
gap: 0.75rem;
}

.option-label {
display: flex;
align-items: center;
padding: 1rem;
border: 2px solid #E2E8F0;
border-radius: 0.5rem;
cursor: pointer;
transition: all 0.2s ease;
}

.option-label:hover {
border-color: var(--secondary);
background: rgba(66, 153, 225, 0.05);
}

.option-label.selected {
border-color: var(--secondary);
background: rgba(66, 153, 225, 0.1);
}

.controls {
display: flex;
justify-content: center;
gap: 1rem;
margin-top: 2rem;
}

button {
padding: 0.8rem 1.5rem;
border: none;
border-radius: 0.5rem;
font-weight: 600;
cursor: pointer;
transition: all 0.2s ease;
}

.submit-btn {
background: var(--success);
color: white;
}

.submit-btn:hover {
background: #38A169;
}

.reset-btn {
background: var(--secondary);
color: white;
}

.reset-btn:hover {
background: #3182CE;
}

.result-panel {
background: var(--light);
border-radius: 1rem;
padding: 2rem;
margin-top: 2rem;
animation: slideIn 0.3s ease;
}

.score-display {
text-align: center;
font-size: 1.5rem;
margin-bottom: 1.5rem;
padding: 1rem;
border-radius: 0.5rem;
}

.correct-answer {
background: rgba(72, 187, 120, 0.1);
border: 2px solid var(--success);
}

.wrong-answer {
background: rgba(245, 101, 101, 0.1);
border: 2px solid var(--danger);
}

@keyframes slideIn {
from { opacity: 0; transform: translateY(20px); }
to { opacity: 1; transform: translateY(0); }
}

input[type="radio"] {
display: none;
}
</style>
</head>
<body>
<div class="container">
<div class="header">
<h1>TOEIC ç²¾è‹±è¨“ç·´ç‡Ÿ</h1>
<p>æ™ºèƒ½é¡Œåº«ç³»çµ± â€¢ äº”ç´šé›£åº¦åˆ†éš</p>
</div>

<div class="quiz-area">
<div id="questionsContainer"></div>

<div class="controls">
<button class="submit-btn" onclick="handleSubmit()">æäº¤æ¸¬é©—</button>
<button class="reset-btn" onclick="initializeQuiz()">é‡æ–°é–‹å§‹</button>
</div>

<div id="resultContainer" class="result-panel"></div>
</div>
</div>

<script>
// å®Œæ•´é¡Œåº«ç¤ºä¾‹ï¼ˆå«æ›´å¤šé¡Œç›®ï¼‰
const questionBank = [
// é›£åº¦1
{
question: "The train will depart ______ platform three.",
options: ["at", "on", "in", "by"],
answer: 1,
explanation: "'on' ç”¨æ–¼è¡¨ç¤ºåœ¨æŸå€‹å¹³é¢ä¸Š",
difficulty: 1
},
{
question: "She is looking forward ______ meeting you.",
options: ["to", "at", "in", "for"],
answer: 0,
explanation: "å›ºå®šç‰‡èª 'look forward to'",
difficulty: 1
},
// é›£åº¦2
{
question: "They ______ to the new office last month.",
options: ["move", "moved", "will move", "moving"],
answer: 1,
explanation: "'last month' è¡¨ç¤ºéå»æ™‚é–“ï¼Œç”¨éå»å¼",
difficulty: 2
},
{
question: "If I ______ you, I would take an umbrella.",
options: ["am", "was", "were", "be"],
answer: 2,
explanation: "å‡è¨­èªæ°£ï¼Œç”¨ 'were'",
difficulty: 2
},
// é›£åº¦3
{
question: "The company announced a significant increase ______ its profits.",
options: ["in", "on", "at", "of"],
answer: 0,
explanation: "'increase in' æ˜¯å›ºå®šç”¨æ³•",
difficulty: 3
},
{
question: "Despite the heavy rain, ______ of the participants arrived on time.",
options: ["most", "most of", "the most", "almost"],
answer: 1,
explanation: "'most of' å¾Œæ¥é™å®šè©",
difficulty: 3
},
// é›£åº¦4
{
question: "The manager was praised ______ his exceptional leadership skills.",
options: ["for", "of", "by", "with"],
answer: 0,
explanation: "'praised for' è¡¨ç¤ºå› ...è€Œè¢«ç¨±è®š",
difficulty: 4
},
{
question: "______ the complexity of the project, the team managed to finish it ahead of schedule.",
options: ["However", "Despite", "Although", "Because"],
answer: 1,
explanation: "'Despite' ç”¨æ–¼å¼•å°è¡¨ç¤ºè½‰æŠ˜çš„èªæ°£",
difficulty: 4
},
// é›£åº¦5
{
question: "The board of directors will convene next week ______ the proposed merger.",
options: ["regarding", "respecting", "concerning", "as to"],
answer: 0,
explanation: "'regarding' è¡¨ç¤ºé—œæ–¼...",
difficulty: 5
},
{
question: "His eloquent speech was ______ well-received by the audience.",
options: ["exceedingly", "excessively", "extremely", "intensely"],
answer: 0,
explanation: "'exceedingly' å¼·èª¿ç¨‹åº¦ä¹‹é«˜",
difficulty: 5
},
{
question: "The new policy aims to ______ greater transparency in financial reporting.",
options: ["elicit", "solicit", "incur", "foster"],
answer: 3,
explanation: "'foster' æœ‰ä¿ƒé€²ã€åŸ¹é¤Šä¹‹æ„ï¼Œç¬¦åˆèªå¢ƒ",
difficulty: 3
},
{
question: "The scientist's groundbreaking research ______ a new era in medical treatment.",
options: ["ushered in", "turned out", "resulted from", "came across"],
answer: 0,
explanation: "'ushered in' æ„ç‚ºé–‹å‰µã€å¼•é ˜",
difficulty: 4
},
{
question: "The company decided to ______ its operations in the European market due to unforeseen economic challenges.",
options: ["augment", "consolidate", "diversify", "curtail"],
answer: 3,
explanation: "'curtail' æ„ç‚ºç¸®æ¸›ã€é™åˆ¶",
difficulty: 5
},
{
question: "Despite his initial reluctance, he eventually ______ to the idea of relocating to a new city.",
options: ["acceded", "conceded", "preceded", "receded"],
answer: 0,
explanation: "'acceded' æ„ç‚ºåŒæ„ã€è®“æ­¥",
difficulty: 4
},
{
question: "The intricate details of the artwork were ______ only upon closer inspection.",
options: ["palpable", "discernible", "tangible", "ostensible"],
answer: 1,
explanation: "'discernible' æ„ç‚ºå¯è¾¨åˆ¥çš„ã€å¯çœ‹å‡ºçš„",
difficulty: 3
}
];

let currentSession = [];
let selectedAnswers = {}; // ç”¨æ–¼å„²å­˜ä½¿ç”¨è€…çš„ç­”æ¡ˆ

function initializeQuiz() {
// æ™ºèƒ½åˆ†ç´šæŠ½é¡Œç³»çµ± (ç¢ºä¿æ¯å€‹é›£åº¦éƒ½æœ‰ä¸€é¡Œ)
const difficultyMap = new Map();
for(let i=1; i<=5; i++) {
const pool = questionBank.filter(q => q.difficulty === i);
if (pool.length > 0) {
const randomIndex = Math.floor(Math.random() * pool.length);
difficultyMap.set(i, pool[randomIndex]);
} else {
console.warn(`Warning: No questions found for difficulty level ${i}`);
}
}
currentSession = Array.from(difficultyMap.values()).filter(q => q !== undefined);

// å¦‚æœé¡Œç›®å°‘æ–¼5é¡Œï¼Œå¾é¡Œåº«ä¸­éš¨æ©ŸæŠ½å–è£œè¶³
while (currentSession.length < 5 && questionBank.length > currentSession.length) {
const randomIndex = Math.floor(Math.random() * questionBank.length);
const randomQuestion = questionBank[randomIndex];
if (!currentSession.includes(randomQuestion)) {
currentSession.push(randomQuestion);
}
}

// éš¨æ©Ÿæ‰“äº‚é¡Œç›®é †åº
currentSession = shuffleArray(currentSession);

renderQuestions();
document.getElementById('resultContainer').innerHTML = '';
selectedAnswers = {}; // æ¸…ç©ºä¹‹å‰çš„ç­”æ¡ˆ
}

// æ´—ç‰Œæ¼”ç®—æ³• (Fisher-Yates)
function shuffleArray(array) {
for (let i = array.length - 1; i > 0; i--) {
const j = Math.floor(Math.random() * (i + 1));
[array[i], array[j]] = [array[j], array[i]];
}
return array;
}

function renderQuestions() {
const container = document.getElementById('questionsContainer');
container.innerHTML = currentSession.map((q, index) => `
<div class="question-card">
<div class="question-header">
<h3>é¡Œç›® ${index + 1}</h3>
<span class="difficulty">é›£åº¦ ${q.difficulty}</span>
</div>
<p>${q.question}</p>
<div class="options-grid">
${q.options.map((opt, i) => `
<label class="option-label ${selectedAnswers[index] === i ? 'selected' : ''}" onclick="selectOption(this, ${index}, ${i})">
<input type="radio" name="q${index}" value="${i}" ${selectedAnswers[index] === i ? 'checked' : ''}>
${opt}
</label>
`).join('')}
</div>
</div>
`).join('');
}

function selectOption(label, questionIndex, optionIndex) {
// æ¸…é™¤åŒé¡Œå…¶ä»–é¸é …çš„é¸ä¸­ç‹€æ…‹
const questionCard = label.closest('.question-card');
questionCard.querySelectorAll('.option-label').forEach(opt => {
opt.classList.remove('selected');
});
label.classList.add('selected');
selectedAnswers[questionIndex] = optionIndex; // å„²å­˜ç­”æ¡ˆ
}

function handleSubmit() {
let totalScore = 0;
const results = currentSession.map((q, index) => {
const userAnswer = selectedAnswers[index];
const isCorrect = userAnswer === q.answer;
if(isCorrect) totalScore += (100 / currentSession.length); // æ ¹æ“šé¡Œç›®æ•¸é‡å¹³å‡åˆ†é…åˆ†æ•¸

return {
...q,
userAnswer,
isCorrect
};
});

showResults(Math.round(totalScore), results);
}

function showResults(score, results) {
const resultHTML = `
<div class="score-display ${score >= 60 ? 'correct-answer' : 'wrong-answer'}">
æœ€çµ‚å¾—åˆ†ï¼š<strong>${score}</strong>/100
</div>
${results.map((r, i) => `
<div class="${r.isCorrect ? 'correct-answer' : 'wrong-answer'}" style="padding:1rem;margin-bottom:1rem;border-radius:0.5rem">
<h4>ç¬¬ ${i+1} é¡Œï¼š${r.isCorrect ? 'æ­£ç¢º âœ“' : 'éŒ¯èª¤ âœ—'}</h4>
<p>âœï¸ ä½ çš„ç­”æ¡ˆï¼š${r.userAnswer !== undefined ? r.options[r.userAnswer] : 'æœªä½œç­”'}</p>
<p>âœ… æ­£ç¢ºç­”æ¡ˆï¼š${r.options[r.answer]}</p>
<p style="margin-top:0.5rem;color:var(--dark)">ğŸ“š è§£æï¼š${r.explanation}</p>
</div>
`).join('')}
`;

document.getElementById('resultContainer').innerHTML = resultHTML;
window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
}

// åˆå§‹åŒ–æ¸¬é©—
initializeQuiz();
</script>
</body>
</html>
